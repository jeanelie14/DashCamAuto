# DashCam Auto üöó

Une application mobile React Native d√©velopp√©e avec TypeScript pour la s√©curit√© routi√®re et la conduite responsable.

## üìã Table des mati√®res

- [Aper√ßu](#aper√ßu)
- [Fonctionnalit√©s](#fonctionnalit√©s)
- [Technologies utilis√©es](#technologies-utilis√©es)
- [Pr√©requis](#pr√©requis)
- [Installation](#installation)
- [Configuration](#configuration)
- [D√©veloppement](#d√©veloppement)
- [Tests](#tests)
- [Build et d√©ploiement](#build-et-d√©ploiement)
- [Architecture](#architecture)
- [Composants UI](#composants-ui)
- [√âtat du projet](#√©tat-du-projet)
- [Contribution](#contribution)
- [Licence](#licence)

## üéØ Aper√ßu

DashCam Auto est une application mobile cross-platform d√©velopp√©e avec React Native et TypeScript. L'application vise √† promouvoir la s√©curit√© routi√®re et fournir des outils pour une conduite plus responsable gr√¢ce √† la d√©tection automatique d'incidents et l'enregistrement vid√©o intelligent.

## ‚ú® Fonctionnalit√©s

### üö® Fonctionnalit√©s principales

#### D√©tection automatique d'incidents
- **D√©tection par acc√©l√©rom√®tre/gyroscope** : Identification des secousses anormales et mouvements brusques
- **D√©tection par traitement d'image** : Analyse en temps r√©el pour d√©tecter collisions ou mouvements suspects
- **Switch automatique cam√©ra** :
  - **Cam√©ra frontale** : Surveillance du comportement du conducteur (int√©rieur v√©hicule)
  - **Cam√©ra arri√®re** : Enregistrement des incidents routiers (ext√©rieur v√©hicule)
- **Enregistrement automatique** : Buffer intelligent (10 sec avant + 20 sec apr√®s l'√©v√©nement)

#### Gestion vid√©o avanc√©e
- **Enregistrement continu** avec buffer circulaire
- **Qualit√© vid√©o optimis√©e** pour la reconnaissance d'incidents
- **Compression intelligente** pour √©conomiser l'espace de stockage
- **M√©tadonn√©es GPS** int√©gr√©es √† chaque enregistrement

### üí° Fonctionnalit√©s avanc√©es (√† venir)

#### Mode surveillance stationnement
- **Mode sentinelle** : D√©tection de mouvement autour du v√©hicule √† l'arr√™t
- **D√©tection d'intrusion** : Alerte en cas de mouvement suspect
- **Enregistrement d√©clench√©** par d√©tection de mouvement

#### D√©tection de fatigue/somnolence
- **Reconnaissance faciale** : Analyse des clignements d'yeux et du regard
- **D√©tection de signes de fatigue** : Alerte pr√©ventive au conducteur
- **Analyse comportementale** : Patterns de conduite anormaux

#### Commandes vocales
- **Reconnaissance vocale** : "Hey DashCam, enregistre √ßa !"
- **Commandes hands-free** : Contr√¥le vocal de l'application
- **Alertes vocales** : Notifications audio pour les incidents

#### Cloud et synchronisation
- **Upload automatique** : Sauvegarde s√©curis√©e dans le cloud
- **Protection contre le vol** : Donn√©es s√©curis√©es m√™me en cas de destruction du t√©l√©phone
- **Synchronisation multi-appareils** : Acc√®s aux enregistrements depuis n'importe o√π

#### Dashboard et historique
- **Interface de relecture** : Visualisation des enregistrements class√©s
- **Historique d'incidents** : Tri par date, lieu, type d'incident
- **Statistiques de conduite** : Analyse des patterns de conduite
- **Export de donn√©es** : G√©n√©ration de rapports d'incidents

### üõ† Fonctionnalit√©s techniques
- **Support Android et iOS** : Application cross-platform native
- **Architecture moderne** : TypeScript + Redux Toolkit
- **Tests automatis√©s** : Jest + React Test Renderer
- **Linting et qualit√©** : ESLint + TypeScript strict
- **Performance optimis√©e** : Hermes + Metro bundler
- **Nouvelle architecture RN** : Support des derni√®res fonctionnalit√©s

## üõ† Technologies utilis√©es

### Frontend Core
- **React Native** 0.81.4 - Framework mobile cross-platform
- **React** 19.1.0 - Biblioth√®que UI
- **TypeScript** 5.9.2 - Langage de programmation typ√©
- **Redux Toolkit** 2.9.0 - Gestion d'√©tat global
- **React Navigation** 7.x - Navigation entre √©crans

### üìπ Gestion cam√©ra et vid√©o
- **react-native-vision-camera** - Cam√©ra ultra-performante (√† installer)
- **react-native-video** - Lecture et traitement vid√©o (√† installer)
- **@react-native-community/camera** - API cam√©ra native (√† installer)

### üß† D√©tection d'incidents et IA
- **@react-native-community/sensors** - Acc√©l√©rom√®tre/gyroscope (√† installer)
- **@tensorflow-models/blazeface** - Reconnaissance faciale (√† installer)
- **react-native-tensorflow** - Machine Learning (√† installer)
- **react-native-voice** - Reconnaissance vocale (√† installer)

### üìç G√©olocalisation et permissions
- **react-native-geolocation-service** - G√©olocalisation pr√©cise (√† installer)
- **react-native-permissions** - Gestion des permissions syst√®me (√† installer)
- **@react-native-community/geolocation** - API GPS native (√† installer)

### ‚òÅÔ∏è Cloud et stockage
- **aws-sdk** - Int√©gration AWS S3 (√† installer)
- **react-native-firebase** - Firebase Storage (√† installer)
- **react-native-fs** - Syst√®me de fichiers local (√† installer)

### üîß Utilitaires
- **react-native-qrcode-scanner** - Scanner QR codes (√† installer)
- **@react-native-async-storage/async-storage** - Stockage asynchrone (√† installer)
- **react-native-device-info** - Informations appareil (√† installer)

### Outils de d√©veloppement
- **Jest** 29.6.3 - Framework de tests
- **ESLint** 8.19.0 - Linter de code
- **Prettier** 3.0.0 - Formateur de code
- **Babel** 7.25.2 - Transpilation JavaScript
- **Metro** 0.81.4 - Bundler React Native
- **Flipper** - Debugging et profiling

## üìã Pr√©requis

### D√©veloppement g√©n√©ral
- **Node.js** (version 20 ou sup√©rieure)
- **npm** ou **yarn**
- **React Native CLI**
- **Git** pour le contr√¥le de version

### Android
- **Android Studio** (derni√®re version)
- **Java Development Kit (JDK)** 11 ou sup√©rieur
- **Android SDK** (API 21-34)
- **Android Emulator** ou appareil physique

### iOS (macOS uniquement)
- **Xcode** (derni√®re version)
- **CocoaPods** pour la gestion des d√©pendances
- **iOS Simulator** ou appareil physique
- **Command Line Tools** pour Xcode

### Services cloud (optionnel)
- **Compte AWS** pour S3 Storage
- **Compte Firebase** pour les services Google
- **Cl√©s API** pour les services de g√©olocalisation

## üöÄ Installation

1. **Cloner le repository**
   ```bash
   git clone <repository-url>
   cd DashCamAuto
   ```

2. **Installer les d√©pendances de base**
   ```bash
   npm install
   # ou
   yarn install
   ```

3. **Installer les d√©pendances natives suppl√©mentaires** (Phase 3+)
   ```bash
   # Cam√©ra et vision
   npm install react-native-vision-camera @react-native-community/camera
   
   # D√©tection et IA
   npm install @react-native-community/sensors @tensorflow-models/blazeface react-native-tensorflow react-native-voice
   
   # G√©olocalisation et stockage
   npm install @react-native-community/geolocation @react-native-async-storage/async-storage react-native-device-info
   
   # Cloud et Firebase
   npm install @react-native-firebase/app @react-native-firebase/storage
   ```

4. **Installation des d√©pendances iOS** (macOS uniquement)
   ```bash
   cd ios && pod install && cd ..
   ```

5. **Configuration des variables d'environnement** (Phase 4+)
   ```bash
   cp .env.example .env
   # √âditer le fichier .env avec vos configurations
   ```

6. **Configuration des permissions natives**
   - **Android** : Mettre √† jour `android/app/src/main/AndroidManifest.xml`
   - **iOS** : Mettre √† jour `ios/DashCamAuto/Info.plist`

## ‚öôÔ∏è Configuration

### Android
- Configuration minimale : API 21 (Android 5.0)
- Configuration cible : API 34 (Android 14)
- Architecture support√©e : armeabi-v7a, x86, arm64-v8a, x86_64

### iOS
- Version minimale : iOS 12.4
- Support des architectures : arm64, x86_64
- Hermes activ√© par d√©faut

### Permissions requises

#### Android (AndroidManifest.xml)
```xml
<uses-permission android:name="android.permission.CAMERA" />
<uses-permission android:name="android.permission.RECORD_AUDIO" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.WAKE_LOCK" />
<uses-permission android:name="android.permission.VIBRATE" />
<uses-permission android:name="android.permission.ACCESS_BACKGROUND_LOCATION" />
```

#### iOS (Info.plist)
```xml
<key>NSCameraUsageDescription</key>
<string>Cette app utilise la cam√©ra pour enregistrer des vid√©os de conduite et d√©tecter automatiquement les incidents</string>
<key>NSMicrophoneUsageDescription</key>
<string>Cette app utilise le microphone pour enregistrer l'audio des vid√©os de conduite</string>
<key>NSLocationWhenInUseUsageDescription</key>
<string>Cette app utilise la localisation pour g√©olocaliser les incidents et fournir des informations de s√©curit√© routi√®re</string>
<key>NSLocationAlwaysAndWhenInUseUsageDescription</key>
<string>Cette app utilise la localisation pour la surveillance continue et la d√©tection d'incidents en arri√®re-plan</string>
```

## üèó D√©veloppement

### Scripts disponibles

```bash
# D√©veloppement
npm start                 # D√©marrer le serveur Metro
npm run android          # Lancer sur Android
npm run ios              # Lancer sur iOS

# Tests
npm test                 # Ex√©cuter les tests
npm run test:watch       # Tests en mode watch
npm run test:coverage    # Tests avec couverture

# Qualit√© de code
npm run lint             # Linter le code
npm run lint:fix         # Corriger automatiquement
npm run format           # Formater le code
npm run format:check     # V√©rifier le formatage

# Build
npm run build:android    # Build Android release
npm run build:ios        # Build iOS release
npm run clean            # Nettoyer le projet

# Utilitaires
npm run check:deps       # V√©rifier les d√©pendances
npm run start:reset      # D√©marrer avec reset cache
```

### Structure de d√©veloppement

1. **D√©veloppement local**
   ```bash
   npm start
   # Dans un autre terminal
   npm run android  # ou npm run ios
   ```

2. **Mode debug**
   - Utilise Flipper pour le debugging
   - Hot reload activ√©
   - Logs d√©taill√©s

3. **Mode release**
   - Optimisations activ√©es
   - Hermes activ√©
   - Minification du code

## üß™ Tests

### Ex√©cution des tests
```bash
# Tous les tests
npm test

# Tests en mode watch
npm run test:watch

# Tests avec couverture
npm run test:coverage
```

### Structure des tests
- Tests unitaires avec Jest
- Tests de composants avec React Test Renderer
- Configuration TypeScript pour les tests

## üì¶ Build et d√©ploiement

### Android

1. **Build debug**
   ```bash
   cd android
   ./gradlew assembleDebug
   ```

2. **Build release**
   ```bash
   cd android
   ./gradlew assembleRelease
   ```

3. **Signer l'APK** (production)
   - Configurer les cl√©s de signature
   - Mettre √† jour `android/app/build.gradle`

### iOS

1. **Build via Xcode**
   - Ouvrir `ios/DashCamAuto.xcworkspace`
   - S√©lectionner le sch√©ma de build
   - Archiver et distribuer

2. **Build via CLI**
   ```bash
   cd ios
   xcodebuild -workspace DashCamAuto.xcworkspace -scheme DashCamAuto -configuration Release
   ```

## üèõ Architecture

### Architecture g√©n√©rale
- **MVVM Pattern** avec Redux
- **Component-based** architecture
- **TypeScript** pour la s√©curit√© des types
- **Modular** structure

### Gestion d'√©tat
- **Redux Toolkit** pour la gestion d'√©tat global
- **React Redux** pour la connexion des composants
- **Slices** pour l'organisation des reducers

### Navigation
- **React Navigation** 7.x
- **Bottom Tab Navigator** pour la navigation principale
- **Stack Navigator** pour les d√©tails
- **Type-safe** navigation avec TypeScript

## üìÅ Structure du projet

```
DashCamAuto/
‚îú‚îÄ‚îÄ __tests__/                 # Tests unitaires
‚îú‚îÄ‚îÄ android/                   # Configuration Android
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/main/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/         # Code Java natif
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ jni/          # Code C++ natif
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ res/          # Ressources Android
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ build.gradle      # Configuration build Android
‚îÇ   ‚îî‚îÄ‚îÄ gradle/               # Configuration Gradle
‚îú‚îÄ‚îÄ ios/                      # Configuration iOS
‚îÇ   ‚îú‚îÄ‚îÄ DashCamAuto/          # Projet Xcode
‚îÇ   ‚îî‚îÄ‚îÄ Podfile              # D√©pendances CocoaPods
‚îú‚îÄ‚îÄ src/                      # Code source principal
‚îÇ   ‚îú‚îÄ‚îÄ components/           # Composants r√©utilisables
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ camera/          # Composants cam√©ra
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sensors/         # Composants capteurs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/              # Composants UI g√©n√©riques
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ common/          # Composants communs
‚îÇ   ‚îú‚îÄ‚îÄ screens/             # √âcrans de l'application
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard/       # √âcran principal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Camera/          # √âcran cam√©ra
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ History/         # Historique des incidents
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Settings/        # Param√®tres
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Playback/        # Lecture des enregistrements
‚îÇ   ‚îú‚îÄ‚îÄ navigation/           # Configuration navigation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AppNavigator.tsx # Navigateur principal
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts         # Types de navigation
‚îÇ   ‚îú‚îÄ‚îÄ store/               # Redux store
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ slices/          # Redux slices
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cameraSlice.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ incidentSlice.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ locationSlice.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ settingsSlice.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ store.ts         # Configuration store
‚îÇ   ‚îú‚îÄ‚îÄ services/            # Services API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ camera/          # Service cam√©ra
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sensors/         # Service capteurs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storage/         # Service stockage
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cloud/           # Service cloud
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ai/              # Service IA/ML
‚îÇ   ‚îú‚îÄ‚îÄ utils/               # Utilitaires
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ permissions.ts   # Gestion permissions
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storage.ts       # Utilitaires stockage
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ location.ts      # Utilitaires g√©olocalisation
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ constants.ts     # Constantes
‚îÇ   ‚îú‚îÄ‚îÄ types/               # Types TypeScript
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ camera.ts        # Types cam√©ra
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ incident.ts      # Types incidents
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ common.ts        # Types communs
‚îÇ   ‚îú‚îÄ‚îÄ hooks/               # Hooks personnalis√©s
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useCamera.ts     # Hook cam√©ra
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useSensors.ts    # Hook capteurs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useLocation.ts   # Hook g√©olocalisation
‚îÇ   ‚îú‚îÄ‚îÄ context/             # Contexts React
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ThemeContext.tsx # Gestion des th√®mes
‚îÇ   ‚îî‚îÄ‚îÄ theme/               # Syst√®me de design
‚îÇ       ‚îú‚îÄ‚îÄ colors.ts        # Palette de couleurs
‚îÇ       ‚îú‚îÄ‚îÄ typography.ts    # Syst√®me typographique
‚îÇ       ‚îî‚îÄ‚îÄ spacing.ts       # Espacements et ombres
‚îú‚îÄ‚îÄ assets/                   # Ressources statiques
‚îÇ   ‚îú‚îÄ‚îÄ images/              # Images
‚îÇ   ‚îú‚îÄ‚îÄ icons/               # Ic√¥nes
‚îÇ   ‚îî‚îÄ‚îÄ sounds/              # Sons et alertes
‚îú‚îÄ‚îÄ App.tsx                   # Point d'entr√©e principal
‚îú‚îÄ‚îÄ package.json             # D√©pendances et scripts
‚îú‚îÄ‚îÄ tsconfig.json            # Configuration TypeScript
‚îú‚îÄ‚îÄ babel.config.js          # Configuration Babel
‚îú‚îÄ‚îÄ metro.config.js          # Configuration Metro
‚îú‚îÄ‚îÄ .env.example             # Variables d'environnement exemple
‚îî‚îÄ‚îÄ README.md               # Documentation
```

## üé® Composants UI

### Composants disponibles
- **Button** : Bouton avec 5 variants (primary, secondary, outline, ghost, danger)
- **Card** : Carte avec 3 variants (elevated, outlined, filled)
- **Input** : Champ de saisie avec ic√¥nes et validation
- **Switch** : Interrupteur personnalis√© avec animations
- **List & ListItem** : Composants de liste pour les param√®tres
- **Icon** : Syst√®me d'ic√¥nes Unicode avec composants pr√©d√©finis

### Syst√®me de th√®me
- **ThemeProvider** : Context React pour la gestion des th√®mes
- **Th√®mes** : Light, Dark et Auto (suivi syst√®me)
- **Hooks** : `useTheme()` et `useThemedStyles()` pour l'utilisation
- **Design tokens** : Couleurs, typographie, espacements, ombres

## üö® D√©pannage

### Probl√®mes courants

1. **Erreur Metro**
   ```bash
   npm run start:reset
   ```

2. **Probl√®me de permissions Android**
   - V√©rifier `android/app/src/main/AndroidManifest.xml`
   - Ajouter les permissions manquantes

3. **Probl√®me iOS**
   ```bash
   cd ios && pod install && cd ..
   ```

4. **Probl√®me de cache**
   ```bash
   npm start -- --reset-cache
   ```

## üìä M√©triques et performance

### Optimisations incluses
- **Hermes** activ√© pour de meilleures performances
- **Proguard** pour l'optimisation Android
- **Metro** configur√© pour l'optimisation
- **Tree shaking** automatique

### Monitoring
- Int√©gration Flipper pour le debugging
- Logs structur√©s
- M√©triques de performance

## üìä √âtat du projet

### ‚úÖ Phase 1 : INITIALISATION (Termin√©e)
- [x] Projet React Native TypeScript cr√©√©
- [x] Structure de dossiers configur√©e
- [x] Redux Toolkit avec slices de base
- [x] Navigation configur√©e avec √©crans placeholder
- [x] Permissions syst√®me configur√©es
- [x] ESLint, Prettier, tests Jest configur√©s

### ‚úÖ Phase 2 : INTERFACE UTILISATEUR (Termin√©e)
- [x] Composants UI r√©utilisables (Button, Card, Input, Switch, List, Icon)
- [x] Syst√®me de th√®me complet (light/dark/auto) avec ThemeProvider
- [x] Navigation fluide avec ic√¥nes th√©matiques
- [x] Design system coh√©rent (couleurs, typographie, espacements)
- [x] Interface responsive et moderne

### üìã Phase 3 : INT√âGRATION CAM√âRA (Planifi√©e)
- [ ] Int√©gration react-native-vision-camera
- [ ] Enregistrement vid√©o HD avec son
- [ ] Contr√¥les cam√©ra (zoom, focus, flash)
- [ ] Pr√©visualisation temps r√©el
- [ ] Switch automatique cam√©ra avant/arri√®re

### üìã Phase 4 : D√âTECTION D'INCIDENTS (Planifi√©e)
- [ ] Int√©gration des capteurs (acc√©l√©rom√®tre/gyroscope)
- [ ] Syst√®me de d√©tection d'incidents basique
- [ ] Buffer circulaire pour l'enregistrement
- [ ] Tests de d√©tection de mouvement

### üìã Phase 5 : IA ET RECONNAISSANCE (Planifi√©e)
- [ ] Int√©gration TensorFlow
- [ ] D√©tection de fatigue/somnolence
- [ ] Reconnaissance faciale
- [ ] Commandes vocales
- [ ] Optimisation des algorithmes

### üìã Phase 6 : STOCKAGE ET CLOUD (Planifi√©e)
- [ ] Syst√®me de stockage local
- [ ] Upload automatique vers AWS S3
- [ ] Synchronisation Firebase
- [ ] Gestion de l'espace de stockage
- [ ] Compression vid√©o

## ü§ù Contribution

1. Fork le projet
2. Cr√©er une branche feature (`git checkout -b feature/AmazingFeature`)
3. Commit les changements (`git commit -m 'Add some AmazingFeature'`)
4. Push vers la branche (`git push origin feature/AmazingFeature`)
5. Ouvrir une Pull Request

### Guidelines
- Suivre les conventions de code TypeScript
- Ajouter des tests pour les nouvelles fonctionnalit√©s
- Documenter les changements majeurs
- Respecter les r√®gles ESLint

## üìÑ Licence

Ce projet est sous licence MIT. Voir le fichier `LICENSE` pour plus de d√©tails.

## üìû Support

Pour toute question ou probl√®me :
- Ouvrir une issue sur GitHub
- Consulter la documentation React Native
- V√©rifier les logs de debug

---

**D√©velopp√© avec ‚ù§Ô∏è pour la s√©curit√© routi√®re**

*DashCam Auto - Votre partenaire intelligent pour une conduite plus s√ªre* üöó‚ú®